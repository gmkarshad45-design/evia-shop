<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>{{ product.name }} | EVIA Official</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { font-family: 'Inter', sans-serif; background: #ffffff; color: #111; padding-bottom: 80px; }
        
        /* Thin Back Nav */
        .back-nav { padding: 12px 15px; border-bottom: 1px solid #eee; display: flex; align-items: center; }

        /* PRODUCT IMAGE: Small & Sharp Fit */
        .img-container-small {
            width: 100%;
            height: 280px; /* Reduced height for a smaller, official look */
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }
        .img-container-small img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain; /* Perfect fit, no blur */
        }

        /* Official Text Styling */
        .brand-tag { font-size: 9px; font-weight: 800; color: #888; text-transform: uppercase; letter-spacing: 1px; }
        .product-name { font-weight: 800; font-size: 1.2rem; margin-top: 2px; }
        .price-section { font-size: 1.1rem; font-weight: 800; color: #000; }

        /* Pincode Box */
        .pincode-box {
            background: #f9f9f9;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 12px;
            margin-top: 15px;
        }
        .pin-input-group { display: flex; gap: 5px; margin-top: 5px; }
        .pin-input { height: 35px; font-size: 12px; border-radius: 4px; border: 1px solid #ddd; padding: 0 10px; flex-grow: 1; }
        .pin-btn { height: 35px; background: #000; color: #fff; border: none; border-radius: 4px; padding: 0 15px; font-size: 11px; font-weight: 700; }
        
        /* Action Bar */
        .bottom-bar {
            position: fixed; bottom: 0; width: 100%; background: #fff;
            padding: 12px 15px; border-top: 1px solid #eee; z-index: 1000;
        }
        .buy-btn {
            background: #ff9f00; color: #fff; font-weight: 800; border: none;
            width: 100%; height: 45px; border-radius: 6px; display: block;
            text-align: center; line-height: 45px; text-decoration: none; font-size: 13px;
        }

        @media (min-width: 768px) {
            .img-container-small { height: 400px; }
            .content-pad { padding-left: 30px; }
        }
    </style>
</head>
<body>

    <div class="back-nav">
        <a href="/" class="text-dark me-3"><i class="fa fa-arrow-left"></i></a>
        <span style="font-size: 11px; font-weight: 700;">PRODUCT OVERVIEW</span>
    </div>

    <div class="container mt-3">
        <div class="row">
            <div class="col-12 col-md-5">
                <div class="img-container-small">
                    <img src="{{ product.image }}" alt="Product Photo">
                </div>
            </div>

            <div class="col-12 col-md-7 content-pad">
                <div class="mt-3 mt-md-0">
                    <div class="brand-tag">Premium Surplus</div>
                    <h1 class="product-name">{{ product.name }}</h1>
                    <div class="price-section">₹{{ product.price }}</div>

                    <div class="pincode-box">
                        <div style="font-size: 10px; font-weight: 800; color: #555;">DELIVERY CHECK</div>
                        <div class="pin-input-group">
                            <input type="number" id="pinCode" class="pin-input" placeholder="Enter Pincode">
                            <button class="pin-btn" onclick="checkDelivery()">CHECK</button>
                        </div>
                        <div id="deliveryMsg" style="font-size: 11px; margin-top: 8px; color: #666; font-weight: 600;">
                            Estimated delivery: Within 7 Days
                        </div>
                    </div>

                    <div class="mt-4">
                        <h6 style="font-size: 11px; font-weight: 800;">DESCRIPTION</h6>
                        <p style="font-size: 12px; color: #666; line-height: 1.5;">
                            {{ product.description or 'Authentic premium surplus. Best quality guaranteed.' }}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="bottom-bar">
        <a href="{{ url_for('buy_now', id=product.id) }}" class="buy-btn">BUY NOW</a>
    </div>

    <script>
        function checkDelivery() {
            const pin = document.getElementById('pinCode').value;
            const msg = document.getElementById('deliveryMsg');
            if(pin.length === 6) {
                msg.innerHTML = "✅ Arriving in 7 Days (Expected)";
                msg.style.color = "green";
            } else {
                msg.innerHTML = "❌ Please enter a valid 6-digit Pincode";
                msg.style.color = "red";
            }
        }
    </script>
</body>
</html>
